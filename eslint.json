[{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\app\\(kiosk)\\kiosk\\complaint\\page.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":43,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1547,1550],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1547,1550],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useCallback received a function whose dependencies are unknown. Pass an inline function instead.","line":59,"column":25,"nodeType":"Identifier","endLine":59,"endColumn":36,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":91,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":91,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3521,3524],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3521,3524],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":91,"column":87,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":91,"endColumn":90,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3558,3561],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3558,3561],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":98,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":98,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3980,3983],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3980,3983],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\app\\(kiosk)\\kiosk\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\app\\(kiosk)\\kiosk\\pay\\loading.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\app\\(kiosk)\\kiosk\\pay\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\app\\(kiosk)\\kiosk\\queue\\loading.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\app\\(kiosk)\\kiosk\\queue\\page.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'t' is assigned a value but never used.","line":51,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":51,"endColumn":14,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\app\\(kiosk)\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\app\\api\\auth\\send-otp\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\app\\api\\auth\\verify-otp\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\app\\api\\bills\\[consumerNumber]\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\app\\api\\complaints\\analyze\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'type' is assigned a value but never used.","line":12,"column":30,"nodeType":"Identifier","messageId":"unusedVar","endLine":12,"endColumn":34}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from 'next/server';\r\n\r\nconst ELECTRICITY_KEYWORDS = ['power', 'electricity', 'electric', 'light', 'bulb', 'meter', 'wire', 'wiring', 'voltage', 'transformer', 'outage', 'blackout', 'shock', 'overload', 'tripped', 'fuse', 'short circuit', 'meter reading', 'bill spike', 'socket', 'pole', 'line'];\r\nconst GAS_KEYWORDS = ['gas', 'lpg', 'pipeline', 'pipe', 'leak', 'leaking', 'smell', 'cylinder', 'pressure', 'regulator', 'connection', 'hissing', 'odor', 'flame', 'burner', 'stove'];\r\nconst MUNICIPAL_KEYWORDS = ['water', 'road', 'garbage', 'waste', 'drain', 'drainage', 'sewage', 'gutter', 'pothole', 'street', 'footpath', 'traffic', 'light', 'park', 'tree', 'noise', 'sanitation', 'manhole', 'flooding', 'pump', 'supply', 'tap', 'pipeline'];\r\n\r\nconst EMERGENCY_KEYWORDS = ['leak', 'leaking', 'hospital', 'flood', 'flooding', 'shock', 'short circuit', 'blackout', 'fire', 'hissing', 'explosion'];\r\n\r\nexport async function POST(request: Request) {\r\n    try {\r\n        const body = await request.json();\r\n        const { description, type } = body;\r\n\r\n        if (!description) {\r\n            return NextResponse.json({ error: 'Description is required' }, { status: 400 });\r\n        }\r\n\r\n        const lowerDesc = description.toLowerCase();\r\n\r\n        let electricityScore = 0;\r\n        let gasScore = 0;\r\n        let municipalScore = 0;\r\n\r\n        const matchedKeywords: { word: string; department: string; weight: number }[] = [];\r\n        const urgencyFlags: string[] = [];\r\n\r\n        // 1. & 2. & 3. Analyze Keywords\r\n        ELECTRICITY_KEYWORDS.forEach(kw => {\r\n            if (lowerDesc.includes(kw)) {\r\n                electricityScore += 1.0;\r\n                matchedKeywords.push({ word: kw, department: 'ELECTRICITY', weight: 1.0 });\r\n            }\r\n        });\r\n\r\n        GAS_KEYWORDS.forEach(kw => {\r\n            if (lowerDesc.includes(kw)) {\r\n                gasScore += 1.2;\r\n                matchedKeywords.push({ word: kw, department: 'GAS', weight: 1.2 });\r\n            }\r\n        });\r\n\r\n        MUNICIPAL_KEYWORDS.forEach(kw => {\r\n            if (lowerDesc.includes(kw)) {\r\n                municipalScore += 1.0;\r\n                matchedKeywords.push({ word: kw, department: 'MUNICIPAL', weight: 1.0 });\r\n            }\r\n        });\r\n\r\n        EMERGENCY_KEYWORDS.forEach(kw => {\r\n            if (lowerDesc.includes(kw)) {\r\n                urgencyFlags.push(kw);\r\n            }\r\n        });\r\n\r\n        // 5. Vulnerability\r\n        const vulnerabilityScore = urgencyFlags.length > 0 ? 2 : 0;\r\n\r\n        // 4. Aging (Not applicable on creation, but simulating if it was old)\r\n        const agingBonus = 0; // Assuming new complaint\r\n\r\n        const scores = [\r\n            { department: 'ELECTRICITY', score: electricityScore },\r\n            { department: 'GAS', score: gasScore },\r\n            { department: 'MUNICIPAL', score: municipalScore },\r\n        ].sort((a, b) => b.score - a.score);\r\n\r\n        // Determine Primary Department (Default to MUNICIPAL if no match)\r\n        let primaryDepartment = \"MUNICIPAL\";\r\n        let isMultiDepartment = false;\r\n        let departments = [\"MUNICIPAL\"];\r\n\r\n        if (scores[0].score > 0) {\r\n            primaryDepartment = scores[0].department;\r\n            departments = [primaryDepartment];\r\n\r\n            // 6. Check for multi-department (within 20%)\r\n            if (scores[1].score > 0) {\r\n                const diff = scores[0].score - scores[1].score;\r\n                const threshold = scores[0].score * 0.20;\r\n                if (diff <= threshold) {\r\n                    isMultiDepartment = true;\r\n                    departments.push(scores[1].department);\r\n                }\r\n            }\r\n        }\r\n\r\n        // 7. Calculate Priority (1-10)\r\n        let priority = 5 + urgencyFlags.length + vulnerabilityScore + agingBonus;\r\n        if (priority > 10) priority = 10;\r\n\r\n        let priorityLabel = 'LOW';\r\n        if (priority >= 8) priorityLabel = 'CRITICAL';\r\n        else if (priority >= 6) priorityLabel = 'HIGH';\r\n        else if (priority >= 4) priorityLabel = 'MEDIUM';\r\n\r\n        // 8. Queue Position\r\n        const queuePosition = Math.floor(Math.random() * 200) + 1;\r\n\r\n        // 9. SLA Calculation\r\n        let slaDays = 15; // default Municipal\r\n        if (isMultiDepartment) {\r\n            slaDays = 7;\r\n        } else if (primaryDepartment === 'ELECTRICITY' || primaryDepartment === 'GAS') {\r\n            slaDays = 7;\r\n        }\r\n\r\n        const slaDeadline = new Date();\r\n        slaDeadline.setDate(slaDeadline.getDate() + slaDays);\r\n\r\n        const complaintDNA = `Routed to ${departments.join(' and ')} based on ${matchedKeywords.length} keywords. ${isMultiDepartment ? 'Multi-department collaborative resolution required.' : 'Standard single-path resolution.'} ${urgencyFlags.length > 0 ? 'Urgency flagged due to emergency keywords.' : ''}`;\r\n\r\n        return NextResponse.json({\r\n            departments,\r\n            primaryDepartment,\r\n            isMultiDepartment,\r\n            priority,\r\n            priorityLabel,\r\n            queuePosition,\r\n            slaDeadline: slaDeadline.toISOString(),\r\n            slaDays,\r\n            matchedKeywords,\r\n            urgencyFlags,\r\n            complaintDNA,\r\n            vulnerabilityScore,\r\n            agingBonus\r\n        }, { status: 200 });\r\n\r\n    } catch (error) {\r\n        console.error('API Error:', error);\r\n        return NextResponse.json({ error: 'Internal Server Error' }, { status: 500 });\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\app\\api\\complaints\\submit\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":31,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1175,1178],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1175,1178],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from 'next/server';\r\nimport { prisma } from '@/lib/prisma'; // Assumes src/lib/prisma exports PrismaClient singleton\r\n\r\nexport async function POST(request: Request) {\r\n    try {\r\n        const body = await request.json();\r\n        const {\r\n            description,\r\n            type, // optional string\r\n            userId, // optional\r\n            // The following would come from calling the /analyze endpoint internally or passed from frontend\r\n            primaryDepartment,\r\n            secondaryDepartment,\r\n            priority,\r\n            queuePosition,\r\n            vulnerabilityScore,\r\n            agingBonus,\r\n            slaDeadline\r\n        } = body;\r\n\r\n        // 1. Basic validation\r\n        if (!description || !primaryDepartment) {\r\n            return NextResponse.json({ error: 'Missing required tracking domains' }, { status: 400 });\r\n        }\r\n\r\n        // 2. Ticket ID Generation (SUVDH-2026-XXXXX)\r\n        const randomNum = Math.floor(Math.random() * 90000) + 10000;\r\n        const ticketId = `SUVDH-2026-${randomNum}`;\r\n\r\n        // 3. Database Transaction\r\n        const newComplaint = await prisma.$transaction(async (tx: any) => {\r\n\r\n            // Create Complaint\r\n            const complaint = await tx.complaint.create({\r\n                data: {\r\n                    ticketId,\r\n                    userId: userId || null,\r\n                    type: type || 'GENERAL',\r\n                    description,\r\n                    department: primaryDepartment,\r\n                    secondaryDepartment: secondaryDepartment || null,\r\n                    status: 'PENDING',\r\n                    priority: priority || 5,\r\n                    queuePosition: queuePosition || 100,\r\n                    agingBonus: agingBonus || 0,\r\n                    vulnerabilityScore: vulnerabilityScore || 0,\r\n                    slaDeadline: slaDeadline ? new Date(slaDeadline) : null,\r\n                }\r\n            });\r\n\r\n            // Create linked Queue Entry\r\n            await tx.queueEntry.create({\r\n                data: {\r\n                    complaintId: complaint.id,\r\n                    departmentQueue: primaryDepartment,\r\n                    position: queuePosition || 100,\r\n                    estimatedResolutionDate: slaDeadline ? new Date(slaDeadline) : new Date(Date.now() + 15 * 86400000), // Default 15 days\r\n                }\r\n            });\r\n\r\n            return complaint;\r\n        });\r\n\r\n        return NextResponse.json({ success: true, complaint: newComplaint }, { status: 201 });\r\n\r\n    } catch (error) {\r\n        console.error('API Error:', error);\r\n        return NextResponse.json({ error: 'Internal Server Error' }, { status: 500 });\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\app\\api\\documents\\token\\[token]\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\app\\api\\payments\\process\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\app\\api\\receipts\\[receiptNumber]\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\app\\api\\user\\dashboard\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\app\\dashboard\\loading.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\app\\dashboard\\page.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":100,"column":69,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":100,"endColumn":72,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4590,4593],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4590,4593],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":103,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":103,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4768,4771],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4768,4771],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":105,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":105,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4974,4977],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4974,4977],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":117,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":117,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5363,5366],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5363,5366],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":218,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":218,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11565,11568],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11565,11568],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":275,"column":68,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":275,"endColumn":71,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[16060,16063],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[16060,16063],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":337,"column":75,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":337,"endColumn":78,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[20923,20926],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[20923,20926],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":374,"column":63,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":374,"endColumn":66,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[23583,23586],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[23583,23586],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\app\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'AnimatePresence' is defined but never used.","line":4,"column":43,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":58,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"AnimatePresence"},"fix":{"range":[103,120],"text":""},"desc":"Remove unused variable \"AnimatePresence\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'CheckCircle2' is defined but never used.","line":9,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":34,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"CheckCircle2"},"fix":{"range":[325,339],"text":""},"desc":"Remove unused variable \"CheckCircle2\"."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { motion, useScroll, useTransform, AnimatePresence } from 'framer-motion';\r\nimport { useRouter } from 'next/navigation';\r\nimport {\r\n  Clock, WifiOff, Map, Accessibility, FileWarning,\r\n  AlertTriangle, Banknote, HelpCircle, ArrowRight,\r\n  SearchCheck, Lock, CheckCircle2, QrCode, Fingerprint,\r\n  Languages, Zap, ShieldCheck, FileText, Bot, HandMetal,\r\n  Volume2, Ear, Eye, Home, Terminal\r\n} from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\n\r\nexport default function LandingPage() {\r\n  const router = useRouter();\r\n  const { scrollYProgress } = useScroll();\r\n  const y = useTransform(scrollYProgress, [0, 1], [0, 200]);\r\n\r\n  // Local animated counter for hero\r\n  const [stats, setStats] = useState({ citizens: 0, languages: 0, services: 0 });\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setStats({ citizens: 900, languages: 22, services: 4 });\r\n    }, 500);\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  // --- MOCK DATA FOR SECTIONS --- //\r\n  const PROBLEMS = [\r\n    { icon: <Clock className=\"w-8 h-8 text-orange-500\" />, text: \"Offices open only 10AM-5PM — forcing working citizens to take leave.\" },\r\n    { icon: <WifiOff className=\"w-8 h-8 text-orange-500\" />, text: \"Only 24% of rural households have reliable internet access.\" },\r\n    { icon: <Map className=\"w-8 h-8 text-orange-500\" />, text: \"Citizens visit 3-4 separate offices for electricity, gas, and water.\" },\r\n    { icon: <Accessibility className=\"w-8 h-8 text-orange-500\" />, text: \"Existing kiosks ignore 70M+ differently-abled citizens.\" },\r\n    { icon: <FileWarning className=\"w-8 h-8 text-orange-500\" />, text: \"Repeat visits due to missing documents — no pre-visit system.\" },\r\n    { icon: <AlertTriangle className=\"w-8 h-8 text-orange-500\" />, text: \"Complaints bounce for weeks due to inter-department blame.\" },\r\n    { icon: <Banknote className=\"w-8 h-8 text-orange-500\" />, text: \"53% of citizens report paying bribes — no queue transparency.\" },\r\n    { icon: <HelpCircle className=\"w-8 h-8 text-orange-500\" />, text: \"Citizens arrive unprepared — no document checklist system.\" }\r\n  ];\r\n\r\n  const JOURNEY_STEPS = [\r\n    { num: 1, title: \"Check Before You Go\", desc: \"WhatsApp pre-visit simulator handles document checks instantly.\" },\r\n    { num: 2, title: \"Walk Up & Get Comfortable\", desc: \"Physical kiosk adapts to wheelchair heights and audio queues.\" },\r\n    { num: 3, title: \"Identify Yourself\", desc: \"Quick Pay anon routing or Full Access via DigiLocker paths.\" },\r\n    { num: 4, title: \"Load Documents\", desc: \"Redeem Web Tokens, tap DigiLocker, or use the physical scanner.\" },\r\n    { num: 5, title: \"Discover Services\", desc: \"One unified address for Electricity, Gas, Municipal, and more.\" },\r\n    { num: 6, title: \"Get Things Done\", desc: \"Pay securely, track timelines, and file verified complaints.\" },\r\n    { num: 7, title: \"Walk Away Safely\", desc: \"Hardware-level auto-logout guarantees data sanitization.\" }\r\n  ];\r\n\r\n  const FEATURES = [\r\n    { icon: <Bot className=\"w-6 h-6\" />, title: \"AI Complaint DNA\", desc: \"NLP routing ends inter-department ping-pong.\" },\r\n    { icon: <SearchCheck className=\"w-6 h-6\" />, title: \"Live SLA Tracking\", desc: \"Real-time queue tracking ensures absolute transparency.\" },\r\n    { icon: <Zap className=\"w-6 h-6\" />, title: \"Anomaly Detection\", desc: \"Flags massive bill spikes before payments occur.\" },\r\n    { icon: <QrCode className=\"w-6 h-6\" />, title: \"Quick Pay Mode\", desc: \"Pay instantly via UPI without formal logins.\" },\r\n    { icon: <Fingerprint className=\"w-6 h-6\" />, title: \"Biometric Auto-Logout\", desc: \"Zero persistent sessions across hardware resets.\" },\r\n    { icon: <Lock className=\"w-6 h-6\" />, title: \"Edge Encryption\", desc: \"Data is wiped instantly post-transaction completion.\" },\r\n    { icon: <ShieldCheck className=\"w-6 h-6\" />, title: \"Anti-Corruption Panel\", desc: \"Public ledger exposing true officer workloads.\" },\r\n    { icon: <Languages className=\"w-6 h-6\" />, title: \"22 Native Languages\", desc: \"Serving 900M non-English speakers seamlessly.\" },\r\n    { icon: <FileText className=\"w-6 h-6\" />, title: \"Multi-modal Documents\", desc: \"Physical scanners meet DigiLocker and remote Web-Tokens.\" },\r\n    { icon: <Terminal className=\"w-6 h-6\" />, title: \"Legacy Integration\", desc: \"SOAP to REST proxies hook into existing fragile grids.\" },\r\n    { icon: <Eye className=\"w-6 h-6\" />, title: \"Screen Readers\", desc: \"Native JAWS and tactile braille physical mappings.\" },\r\n    { icon: <Volume2 className=\"w-6 h-6\" />, title: \"Acoustic Mapping\", desc: \"Audio feedback loops for vision impaired citizens.\" },\r\n    { icon: <HandMetal className=\"w-6 h-6\" />, title: \"Universal Design\", desc: \"Ergonomic tilted tracks fitting wheelchair footprints.\" }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white font-sans text-gray-900 overflow-x-hidden\">\r\n\r\n      {/* HERO SECTION - Navy Background */}\r\n      <section className=\"relative w-full min-h-[90vh] bg-[#0A192F] text-white flex flex-col justify-center overflow-hidden pt-20 pb-16\">\r\n        {/* Background Pattern */}\r\n        <div className=\"absolute inset-0 opacity-10 bg-[url('https://transparenttextures.com/patterns/cubes.png')]\" />\r\n        <motion.div style={{ y }} className=\"absolute -top-40 -right-40 w-96 h-96 bg-orange-500 rounded-full blur-[150px] opacity-20 pointer-events-none\" />\r\n        <motion.div style={{ y: useTransform(scrollYProgress, [0, 1], [0, -100]) }} className=\"absolute -bottom-20 -left-20 w-80 h-80 bg-blue-500 rounded-full blur-[120px] opacity-20 pointer-events-none\" />\r\n\r\n        <div className=\"max-w-7xl mx-auto px-6 lg:px-8 relative z-10 w-full mb-12\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 30 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.8 }}\r\n            className=\"max-w-4xl\"\r\n          >\r\n            <h1 className=\"text-5xl md:text-7xl font-black tracking-tight mb-6 leading-tight\">\r\n              One Kiosk. <br />\r\n              <span className=\"text-orange-500\">All Civic Services.</span>\r\n            </h1>\r\n            <p className=\"text-xl md:text-3xl text-gray-300 font-light mb-8 max-w-3xl leading-relaxed\">\r\n              SUVIDHA 2026 — India&apos;s most accessible government kiosk.\r\n              Electricity, Gas, and Municipal services at a single localized touchpoint.\r\n            </p>\r\n            <p className=\"text-lg md:text-xl text-gray-400 font-medium max-w-2xl mb-12 border-l-4 border-orange-500 pl-4\">\r\n              Serving every citizen regardless of location, ability, or literacy.\r\n            </p>\r\n\r\n            <div className=\"flex flex-col sm:flex-row gap-4 mb-16\">\r\n              <Button\r\n                size=\"lg\"\r\n                className=\"bg-orange-500 hover:bg-orange-600 text-white font-bold text-lg px-8 py-6 rounded-xl shadow-[0_0_30px_rgba(249,115,22,0.3)] transition-all hover:scale-105\"\r\n                onClick={() => router.push('/kiosk')}\r\n              >\r\n                <Terminal className=\"mr-2 w-6 h-6\" /> Try the Kiosk Demo\r\n              </Button>\r\n              <Button\r\n                size=\"lg\"\r\n                variant=\"outline\"\r\n                className=\"bg-transparent border-2 border-white/30 text-black hover:text-white hover:bg-white/10 font-bold text-lg px-8 py-6 rounded-xl transition-all\"\r\n                onClick={() => router.push('/pre-visit')}\r\n              >\r\n                <Bot className=\"mr-2 w-6 h-6\" /> Pre-Visit Simulator\r\n              </Button>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n\r\n        {/* Animated Stats Row */}\r\n        <div className=\"w-full bg-white/5 border-y border-white/10 backdrop-blur-md relative z-10 py-8\">\r\n          <div className=\"max-w-7xl mx-auto px-6 lg:px-8\">\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-8 md:gap-4 divide-y md:divide-y-0 md:divide-x divide-white/20\">\r\n\r\n              <div className=\"text-center pt-4 md:pt-0\">\r\n                <motion.div\r\n                  className=\"text-4xl md:text-5xl font-black text-orange-400 mb-2\"\r\n                  initial={{ opacity: 0, scale: 0.5 }}\r\n                  whileInView={{ opacity: 1, scale: 1 }}\r\n                  viewport={{ once: true }}\r\n                >\r\n                  {stats.citizens}M+\r\n                </motion.div>\r\n                <div className=\"text-sm text-gray-400 uppercase tracking-widest font-bold\">Citizens</div>\r\n              </div>\r\n\r\n              <div className=\"text-center pt-4 md:pt-0\">\r\n                <motion.div\r\n                  className=\"text-4xl md:text-5xl font-black text-blue-400 mb-2\"\r\n                  initial={{ opacity: 0, scale: 0.5 }}\r\n                  whileInView={{ opacity: 1, scale: 1 }}\r\n                  viewport={{ once: true }}\r\n                >\r\n                  {stats.languages}+\r\n                </motion.div>\r\n                <div className=\"text-sm text-gray-400 uppercase tracking-widest font-bold\">Languages</div>\r\n              </div>\r\n\r\n              <div className=\"text-center pt-4 md:pt-0\">\r\n                <motion.div\r\n                  className=\"text-4xl md:text-5xl font-black text-green-400 mb-2\"\r\n                  initial={{ opacity: 0, scale: 0.5 }}\r\n                  whileInView={{ opacity: 1, scale: 1 }}\r\n                  viewport={{ once: true }}\r\n                >\r\n                  {stats.services} Unified\r\n                </motion.div>\r\n                <div className=\"text-sm text-gray-400 uppercase tracking-widest font-bold\">Services</div>\r\n              </div>\r\n\r\n              <div className=\"text-center pt-4 md:pt-0\">\r\n                <motion.div\r\n                  className=\"text-4xl md:text-5xl font-black text-purple-400 mb-2\"\r\n                  initial={{ opacity: 0, scale: 0.5 }}\r\n                  whileInView={{ opacity: 1, scale: 1 }}\r\n                  viewport={{ once: true }}\r\n                >\r\n                  0\r\n                </motion.div>\r\n                <div className=\"text-sm text-gray-400 uppercase tracking-widest font-bold\">Aadhaar Required</div>\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* SECTION 2: PROBLEM WE SOLVE */}\r\n      <section className=\"py-24 bg-[#050D18] text-white\">\r\n        <div className=\"max-w-7xl mx-auto px-6 lg:px-8\">\r\n          <div className=\"text-center max-w-3xl mx-auto mb-16\">\r\n            <h2 className=\"text-3xl md:text-5xl font-black mb-6\">Why India Needs SUVIDHA</h2>\r\n            <div className=\"w-24 h-1 bg-orange-500 mx-auto rounded-full\" />\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n            {PROBLEMS.map((prob, i) => (\r\n              <motion.div\r\n                key={i}\r\n                initial={{ opacity: 0, y: 20 }}\r\n                whileInView={{ opacity: 1, y: 0 }}\r\n                viewport={{ once: true }}\r\n                transition={{ delay: i * 0.1 }}\r\n                className=\"bg-white/5 p-6 rounded-2xl border border-white/10 hover:border-orange-500/50 hover:bg-white/10 transition-colors\"\r\n              >\r\n                <div className=\"mb-4 bg-white/10 w-fit p-3 rounded-xl\">{prob.icon}</div>\r\n                <p className=\"text-gray-300 font-medium leading-relaxed\">{prob.text}</p>\r\n              </motion.div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* SECTION 3: HOW IT WORKS */}\r\n      <section className=\"py-24 bg-gray-50 border-y border-gray-200 overflow-hidden\">\r\n        <div className=\"max-w-7xl mx-auto px-6 lg:px-8\">\r\n          <div className=\"mb-16\">\r\n            <h2 className=\"text-3xl md:text-5xl font-black text-[#0A192F] mb-6\">Your 7-Step Journey with SUVIDHA</h2>\r\n            <div className=\"w-24 h-1 bg-[#0A192F] rounded-full\" />\r\n          </div>\r\n\r\n          <div className=\"flex gap-6 overflow-x-auto pb-8 snap-x snap-mandatory hide-scrollbars\">\r\n            {JOURNEY_STEPS.map((step, i) => (\r\n              <motion.div\r\n                key={step.num}\r\n                initial={{ opacity: 0, x: 50 }}\r\n                whileInView={{ opacity: 1, x: 0 }}\r\n                viewport={{ once: true, margin: \"-100px\" }}\r\n                transition={{ delay: i * 0.1 }}\r\n                className=\"min-w-[280px] md:min-w-[320px] bg-white p-8 rounded-3xl shadow-lg border border-gray-100 snap-center relative\"\r\n              >\r\n                <div className=\"text-7xl font-black text-gray-100 absolute top-4 right-4 pointer-events-none\">\r\n                  0{step.num}\r\n                </div>\r\n                <div className=\"relative z-10\">\r\n                  <div className=\"w-12 h-12 bg-[#0A192F] text-white rounded-full flex items-center justify-center font-bold text-xl mb-6 shadow-md\">\r\n                    {step.num}\r\n                  </div>\r\n                  <h3 className=\"text-xl font-bold text-gray-900 mb-3\">{step.title}</h3>\r\n                  <p className=\"text-gray-600 leading-relaxed\">{step.desc}</p>\r\n                </div>\r\n              </motion.div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* SECTION 4: FEATURES GRID */}\r\n      <section className=\"py-24 bg-white\">\r\n        <div className=\"max-w-7xl mx-auto px-6 lg:px-8\">\r\n          <div className=\"text-center max-w-3xl mx-auto mb-16\">\r\n            <h2 className=\"text-3xl md:text-5xl font-black text-[#0A192F] mb-6\">Engineered for Scale</h2>\r\n            <div className=\"w-24 h-1 bg-orange-500 mx-auto rounded-full\" />\r\n          </div>\r\n\r\n          <div className=\"flex flex-wrap justify-center gap-4\">\r\n            {FEATURES.map((feat, i) => (\r\n              <motion.div\r\n                key={i}\r\n                initial={{ opacity: 0, scale: 0.9 }}\r\n                whileInView={{ opacity: 1, scale: 1 }}\r\n                viewport={{ once: true }}\r\n                transition={{ delay: (i % 4) * 0.1 }}\r\n                className=\"w-full sm:w-[calc(50%-1rem)] lg:w-[calc(25%-1rem)] bg-gray-50 border border-gray-200 p-6 rounded-2xl hover:shadow-xl hover:-translate-y-1 transition-all\"\r\n              >\r\n                <div className=\"mb-4 text-[#0A192F] bg-blue-100 w-fit p-3 rounded-xl\">\r\n                  {feat.icon}\r\n                </div>\r\n                <h4 className=\"font-bold text-lg mb-2 text-gray-900\">{feat.title}</h4>\r\n                <p className=\"text-sm text-gray-600 leading-relaxed\">{feat.desc}</p>\r\n              </motion.div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* SECTION 5: ACCESSIBILITY */}\r\n      <section className=\"py-24 bg-blue-50 border-t border-blue-100\">\r\n        <div className=\"max-w-7xl mx-auto px-6 lg:px-8\">\r\n          <div className=\"mb-16\">\r\n            <h2 className=\"text-3xl md:text-5xl font-black text-[#0A192F] mb-6\">Accessibility For All</h2>\r\n            <p className=\"text-xl text-gray-600 max-w-2xl\">Because true public infrastructure leaves no citizen behind.</p>\r\n            <div className=\"w-24 h-1 bg-[#0A192F] rounded-full mt-6\" />\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12\">\r\n            {/* Blind */}\r\n            <div className=\"bg-white p-8 rounded-3xl shadow-sm border border-gray-100 flex gap-6 items-start\">\r\n              <div className=\"bg-blue-100 text-blue-700 p-4 rounded-2xl\"><Eye className=\"w-8 h-8\" /></div>\r\n              <div>\r\n                <h3 className=\"text-2xl font-bold mb-2\">Blind & Vision Impaired</h3>\r\n                <p className=\"text-gray-600\">Full JAWS screen reader support, physical tactile braille overlays mapped to hardware buttons, and direct headphone jack audio guidance.</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Deaf */}\r\n            <div className=\"bg-white p-8 rounded-3xl shadow-sm border border-gray-100 flex gap-6 items-start\">\r\n              <div className=\"bg-green-100 text-green-700 p-4 rounded-2xl\"><Ear className=\"w-8 h-8\" /></div>\r\n              <div>\r\n                <h3 className=\"text-2xl font-bold mb-2\">Deaf & Hearing Impaired</h3>\r\n                <p className=\"text-gray-600\">Zero audio dependencies. High-contrast visual alerts and integrated Indian Sign Language (ISL) video overlays for complex instructions.</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Elderly */}\r\n            <div className=\"bg-white p-8 rounded-3xl shadow-sm border border-gray-100 flex gap-6 items-start\">\r\n              <div className=\"bg-orange-100 text-orange-700 p-4 rounded-2xl\"><Volume2 className=\"w-8 h-8\" /></div>\r\n              <div>\r\n                <h3 className=\"text-2xl font-bold mb-2\">Elderly Citizens</h3>\r\n                <p className=\"text-gray-600\">Simplified &apos;Senior Mode&apos; toggles massive typography, slows down interface timeouts, and triggers simplified voice guidance.</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Wheelchair */}\r\n            <div className=\"bg-white p-8 rounded-3xl shadow-sm border border-gray-100 flex gap-6 items-start\">\r\n              <div className=\"bg-purple-100 text-purple-700 p-4 rounded-2xl\"><Accessibility className=\"w-8 h-8\" /></div>\r\n              <div>\r\n                <h3 className=\"text-2xl font-bold mb-2\">Wheelchair Bound</h3>\r\n                <p className=\"text-gray-600\">Kiosk hardware complies with exact ADA height maximums featuring recessed foot-pedal space and angled screens preventing glare.</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Home Visit Card */}\r\n          <div className=\"bg-[#0A192F] text-white p-8 md:p-12 rounded-3xl shadow-2xl relative overflow-hidden flex flex-col md:flex-row items-center justify-between gap-8\">\r\n            <div className=\"absolute top-0 right-0 w-64 h-64 bg-white opacity-5 rounded-full blur-3xl transform translate-x-1/2 -translate-y-1/2\" />\r\n            <div className=\"relative z-10\">\r\n              <h3 className=\"text-2xl md:text-3xl font-black mb-4 flex items-center gap-3\">\r\n                <Home className=\"w-8 h-8 text-orange-500\" /> Home Visit Service\r\n              </h3>\r\n              <p className=\"text-gray-300 max-w-2xl text-lg\">For citizens who absolutely cannot travel to the kiosk, SUVIDHA agents are dispatched directly to their homes with mobile biometric kits.</p>\r\n            </div>\r\n            <Button className=\"bg-orange-500 hover:bg-orange-600 text-white font-bold px-8 py-6 rounded-xl shrink-0 z-10\" onClick={() => router.push('/pre-visit')}>\r\n              Simulate Request <ArrowRight className=\"ml-2 w-5 h-5\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* SECTION 6: TECH STACK */}\r\n      <section className=\"py-20 bg-gray-900 border-t-4 border-orange-500 text-center\">\r\n        <div className=\"max-w-5xl mx-auto px-6\">\r\n          <h5 className=\"text-gray-400 font-bold tracking-widest uppercase text-sm mb-8\">Powered By</h5>\r\n          <div className=\"flex flex-wrap justify-center gap-6 md:gap-12 opacity-60\">\r\n            {/* Static text-based logos for robust mockup */}\r\n            <div className=\"text-2xl font-black text-white\">Next.js</div>\r\n            <div className=\"text-2xl font-black text-white\">React</div>\r\n            <div className=\"text-2xl font-black text-white\">TailwindCSS</div>\r\n            <div className=\"text-2xl font-black text-white\">Prisma DB</div>\r\n            <div className=\"text-2xl font-black text-white\">Framer Motion</div>\r\n            <div className=\"text-2xl font-black text-white\">PostgreSQL</div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* SECTION 7: FINAL CTA */}\r\n      <section className=\"py-32 bg-white text-center relative overflow-hidden\">\r\n        <div className=\"max-w-4xl mx-auto px-6 relative z-10\">\r\n          <h2 className=\"text-4xl md:text-6xl font-black text-[#0A192F] mb-8\">Experience the Future of Indian GovTech.</h2>\r\n          <Button\r\n            size=\"lg\"\r\n            className=\"bg-[#0A192F] hover:bg-black text-white font-black text-xl px-12 py-8 rounded-2xl shadow-2xl transition-all hover:scale-105\"\r\n            onClick={() => router.push('/kiosk')}\r\n          >\r\n            Try SUVIDHA 2026 Now\r\n          </Button>\r\n        </div>\r\n      </section>\r\n\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\app\\pre-visit\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\app\\template.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\components\\accessibility\\AccessibilityToolbar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\components\\kiosk\\DocumentHandler.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'useEffect' is defined but never used.","line":3,"column":20,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":29,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"useEffect"},"fix":{"range":[34,45],"text":""},"desc":"Remove unused variable \"useEffect\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Search' is defined but never used.","line":8,"column":25,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":31,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Search"},"fix":{"range":[239,247],"text":""},"desc":"Remove unused variable \"Search\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'err' is defined but never used.","line":93,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":93,"endColumn":21}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport {\r\n    FileText, Smartphone, ScanLine,\r\n    CheckCircle2, AlertTriangle, DownloadCloud,\r\n    Camera, RefreshCcw, Search, KeyRound\r\n} from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { useStore } from '@/lib/store';\r\n\r\n// --- MOCK DATA --- //\r\nconst MOCK_DIGILOCKER_DOCS = [\r\n    { id: '1', name: 'Aadhaar Card', type: 'ID PROOF', date: '2020-05-12' },\r\n    { id: '2', name: 'PAN Card', type: 'TAX ID', date: '2019-08-22' },\r\n    { id: '3', name: 'Driving License', type: 'ID PROOF', date: '2022-01-15' },\r\n];\r\n\r\nexport default function DocumentHandler() {\r\n    const { highContrast } = useStore();\r\n    const [activeTab, setActiveTab] = useState<'digilocker' | 'scanner' | 'token'>('digilocker');\r\n\r\n    // DigiLocker State\r\n    const [aadhaar, setAadhaar] = useState('');\r\n    const [dlStatus, setDlStatus] = useState<'idle' | 'otp' | 'loading' | 'success'>('idle');\r\n    const [selectedDocs, setSelectedDocs] = useState<string[]>([]);\r\n\r\n    // Scanner State\r\n    const [scanStatus, setScanStatus] = useState<'idle' | 'scanning' | 'success'>('idle');\r\n    const [scanProgress, setScanProgress] = useState(0);\r\n\r\n    // Token State\r\n    const [token, setToken] = useState('');\r\n    const [tokenStatus, setTokenStatus] = useState<'idle' | 'loading' | 'success' | 'error'>('idle');\r\n    const [tokenError, setTokenError] = useState('');\r\n    const [tokenData, setTokenData] = useState<{ fileName: string; fileSize: number; mimeType: string; message: string } | null>(null);\r\n\r\n    // --- TAB 1: DIGILOCKER HANDLERS --- //\r\n    const handleDigiLockerRequest = () => {\r\n        if (aadhaar.length < 12) return;\r\n        setDlStatus('otp');\r\n    };\r\n\r\n    const handleDigiLockerOTP = () => {\r\n        setDlStatus('loading');\r\n        // Simulate delay for fetching from DigiLocker\r\n        setTimeout(() => {\r\n            setDlStatus('success');\r\n        }, 1500);\r\n    };\r\n\r\n    const toggleDocSelection = (id: string) => {\r\n        setSelectedDocs(prev => prev.includes(id) ? prev.filter(d => d !== id) : [...prev, id]);\r\n    };\r\n\r\n    // --- TAB 2: SCANNER HANDLERS --- //\r\n    const startScan = () => {\r\n        setScanStatus('scanning');\r\n        setScanProgress(0);\r\n\r\n        // Simulate scanning progress\r\n        const interval = setInterval(() => {\r\n            setScanProgress(prev => {\r\n                if (prev >= 100) {\r\n                    clearInterval(interval);\r\n                    setScanStatus('success');\r\n                    return 100;\r\n                }\r\n                return prev + 5;\r\n            });\r\n        }, 100);\r\n    };\r\n\r\n    // --- TAB 3: TOKEN HANDLERS --- //\r\n    const handleTokenSubmit = async () => {\r\n        if (token.length !== 6) return;\r\n        setTokenStatus('loading');\r\n        setTokenError('');\r\n        setTokenData(null);\r\n\r\n        try {\r\n            const res = await fetch(`/api/documents/token/${token.toUpperCase()}`);\r\n            const data = await res.json();\r\n\r\n            if (res.ok) {\r\n                setTokenStatus('success');\r\n                setTokenData(data);\r\n            } else {\r\n                setTokenStatus('error');\r\n                setTokenError(data.error || 'Failed to retrieve documents.');\r\n            }\r\n        } catch (err) {\r\n            setTokenStatus('error');\r\n            setTokenError('Network error while retrieving token.');\r\n        }\r\n    };\r\n\r\n\r\n    return (\r\n        <div className={`w-full rounded-3xl border shadow-sm overflow-hidden ${highContrast ? 'bg-gray-900 border-gray-700' : 'bg-white border-gray-200'}`}>\r\n\r\n            {/* TABS HEADER */}\r\n            <div className={`flex border-b ${highContrast ? 'border-gray-800' : 'border-gray-100'} overflow-x-auto scrollbar-hide`}>\r\n                <button\r\n                    onClick={() => setActiveTab('digilocker')}\r\n                    className={`flex-1 py-4 px-6 font-bold text-sm tracking-wide whitespace-nowrap transition-colors flex items-center justify-center gap-2 ${activeTab === 'digilocker' ? 'bg-blue-50 text-blue-700 border-b-2 border-blue-600' : 'text-gray-500 hover:bg-gray-50'}`}\r\n                >\r\n                    <DownloadCloud className=\"w-4 h-4\" /> DigiLocker\r\n                </button>\r\n                <button\r\n                    onClick={() => setActiveTab('scanner')}\r\n                    className={`flex-1 py-4 px-6 font-bold text-sm tracking-wide whitespace-nowrap transition-colors flex items-center justify-center gap-2 ${activeTab === 'scanner' ? 'bg-green-50 text-green-700 border-b-2 border-green-600' : 'text-gray-500 hover:bg-gray-50'}`}\r\n                >\r\n                    <ScanLine className=\"w-4 h-4\" /> Scanner\r\n                </button>\r\n                <button\r\n                    onClick={() => setActiveTab('token')}\r\n                    className={`flex-1 py-4 px-6 font-bold text-sm tracking-wide whitespace-nowrap transition-colors flex items-center justify-center gap-2 ${activeTab === 'token' ? 'bg-purple-50 text-purple-700 border-b-2 border-purple-600' : 'text-gray-500 hover:bg-gray-50'}`}\r\n                >\r\n                    <KeyRound className=\"w-4 h-4\" /> Web Token\r\n                </button>\r\n            </div>\r\n\r\n            {/* TAB CONTENT */}\r\n            <div className=\"p-6 md:p-8 min-h-[400px] flex flex-col justify-center\">\r\n                <AnimatePresence mode=\"wait\">\r\n\r\n                    {/* --- TAB 1: DIGILOCKER --- */}\r\n                    {activeTab === 'digilocker' && (\r\n                        <motion.div key=\"dl\" initial={{ opacity: 0, x: -20 }} animate={{ opacity: 1, x: 0 }} exit={{ opacity: 0, x: 20 }} className=\"max-w-md mx-auto w-full space-y-6\">\r\n\r\n                            <div className=\"text-center mb-8\">\r\n                                <div className=\"w-16 h-16 bg-blue-100 text-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4\">\r\n                                    <DownloadCloud className=\"w-8 h-8\" />\r\n                                </div>\r\n                                <h3 className=\"text-xl font-bold\">Fetch from DigiLocker</h3>\r\n                                <p className=\"text-sm text-gray-500 mt-2\">Securely import your verified government documents directly.</p>\r\n                            </div>\r\n\r\n                            {dlStatus === 'idle' && (\r\n                                <div className=\"space-y-4\">\r\n                                    <div className=\"space-y-2\">\r\n                                        <label className=\"text-xs font-bold text-gray-400 uppercase tracking-widest\">Aadhaar Number</label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            placeholder=\"XXXX XXXX XXXX\"\r\n                                            maxLength={12}\r\n                                            value={aadhaar}\r\n                                            onChange={(e) => setAadhaar(e.target.value.replace(/\\D/g, ''))}\r\n                                            className=\"w-full text-xl font-mono p-4 bg-gray-50 border rounded-xl outline-none focus:border-blue-500 text-center tracking-widest\"\r\n                                        />\r\n                                    </div>\r\n                                    <Button className=\"w-full text-lg\" disabled={aadhaar.length !== 12} onClick={handleDigiLockerRequest}>\r\n                                        Request OTP\r\n                                    </Button>\r\n                                </div>\r\n                            )}\r\n\r\n                            {dlStatus === 'otp' && (\r\n                                <motion.div initial={{ opacity: 0, y: 10 }} animate={{ opacity: 1, y: 0 }} className=\"space-y-4\">\r\n                                    <div className=\"p-4 bg-yellow-50 text-yellow-800 rounded-xl border border-yellow-200 text-sm flex items-start gap-3\">\r\n                                        <Smartphone className=\"w-5 h-5 flex-shrink-0 mt-0.5\" />\r\n                                        <p>An OTP has been sent to your Aadhaar-linked mobile number finishing in <b>*8912</b>.</p>\r\n                                    </div>\r\n                                    <div className=\"space-y-2\">\r\n                                        <label className=\"text-xs font-bold text-gray-400 uppercase tracking-widest\">Enter 6-digit OTP</label>\r\n                                        <input\r\n                                            type=\"text\" placeholder=\"------\" maxLength={6}\r\n                                            className=\"w-full text-2xl font-mono p-4 bg-gray-50 border rounded-xl outline-none focus:border-blue-500 text-center tracking-[1em]\"\r\n                                        />\r\n                                    </div>\r\n                                    <Button className=\"w-full text-lg\" onClick={handleDigiLockerOTP}>Verify & Fetch</Button>\r\n                                </motion.div>\r\n                            )}\r\n\r\n                            {dlStatus === 'loading' && (\r\n                                <div className=\"py-12 flex flex-col items-center justify-center text-blue-500 space-y-4\">\r\n                                    <RefreshCcw className=\"w-10 h-10 animate-spin\" />\r\n                                    <p className=\"font-bold animate-pulse\">Connecting to DigiLocker API...</p>\r\n                                </div>\r\n                            )}\r\n\r\n                            {dlStatus === 'success' && (\r\n                                <motion.div initial={{ opacity: 0, scale: 0.95 }} animate={{ opacity: 1, scale: 1 }} className=\"space-y-4\">\r\n                                    <div className=\"flex items-center gap-2 text-green-600 font-bold mb-4 justify-center\">\r\n                                        <CheckCircle2 className=\"w-5 h-5\" /> Account Linked Successfully\r\n                                    </div>\r\n                                    <p className=\"text-sm font-bold text-gray-500\">Select documents to attach:</p>\r\n                                    <div className=\"space-y-3\">\r\n                                        {MOCK_DIGILOCKER_DOCS.map(doc => (\r\n                                            <div\r\n                                                key={doc.id}\r\n                                                onClick={() => toggleDocSelection(doc.id)}\r\n                                                className={`p-4 border-2 rounded-xl cursor-pointer transition-colors flex items-center justify-between ${selectedDocs.includes(doc.id) ? 'border-primary bg-primary/5' : 'border-gray-100 hover:border-gray-200'\r\n                                                    }`}\r\n                                            >\r\n                                                <div className=\"flex items-center gap-4\">\r\n                                                    <FileText className={`w-8 h-8 ${selectedDocs.includes(doc.id) ? 'text-primary' : 'text-gray-400'}`} />\r\n                                                    <div>\r\n                                                        <p className=\"font-bold\">{doc.name}</p>\r\n                                                        <p className=\"text-xs text-gray-500\">{doc.type} • Updated {doc.date}</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className={`w-6 h-6 rounded-full border-2 flex items-center justify-center ${selectedDocs.includes(doc.id) ? 'border-primary bg-primary text-white' : 'border-gray-300'\r\n                                                    }`}>\r\n                                                    {selectedDocs.includes(doc.id) && <CheckCircle2 className=\"w-4 h-4\" />}\r\n                                                </div>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                    <Button className=\"w-full mt-4\" size=\"lg\" disabled={selectedDocs.length === 0} onClick={() => alert('Documents attached!')}>\r\n                                        Attach {selectedDocs.length} Document(s)\r\n                                    </Button>\r\n                                </motion.div>\r\n                            )}\r\n                        </motion.div>\r\n                    )}\r\n\r\n                    {/* --- TAB 2: SCANNER --- */}\r\n                    {activeTab === 'scanner' && (\r\n                        <motion.div key=\"scan\" initial={{ opacity: 0, x: -20 }} animate={{ opacity: 1, x: 0 }} exit={{ opacity: 0, x: 20 }} className=\"max-w-md mx-auto w-full space-y-8 flex flex-col items-center\">\r\n\r\n                            <div className=\"text-center\">\r\n                                <h3 className=\"text-xl font-bold mb-2\">Physical Scanner</h3>\r\n                                <p className=\"text-sm text-gray-500\">Place your document face down on the glass scanner below.</p>\r\n                            </div>\r\n\r\n                            {/* SCANNER VISUAL */}\r\n                            <div className=\"relative w-full aspect-video bg-gray-100 rounded-xl overflow-hidden shadow-inner border border-gray-200\">\r\n                                {/* The scanning bar */}\r\n                                {scanStatus === 'scanning' && (\r\n                                    <motion.div\r\n                                        className=\"absolute top-0 bottom-0 w-2 bg-green-400 shadow-[0_0_20px_rgba(74,222,128,0.8)] z-10\"\r\n                                        initial={{ left: '0%' }}\r\n                                        animate={{ left: '100%' }}\r\n                                        transition={{ duration: 2, ease: \"linear\", repeat: Infinity, repeatType: \"reverse\" }}\r\n                                    />\r\n                                )}\r\n                                {/* Document stub */}\r\n                                {(scanStatus === 'scanning' || scanStatus === 'success') && (\r\n                                    <div className=\"absolute inset-4 bg-white shadow-sm border p-4 opacity-50 flex flex-col gap-2\">\r\n                                        <div className=\"h-4 bg-gray-200 rounded w-1/3\" />\r\n                                        <div className=\"h-4 bg-gray-200 rounded w-1/2\" />\r\n                                        <div className=\"h-24 bg-gray-200 rounded w-24 mt-4\" />\r\n                                    </div>\r\n                                )}\r\n                                {/* Center Icon */}\r\n                                {scanStatus === 'idle' && (\r\n                                    <div className=\"absolute inset-0 flex items-center justify-center text-gray-400 flex-col gap-2\">\r\n                                        <Camera className=\"w-12 h-12\" />\r\n                                        <span className=\"font-bold\">Ready</span>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n\r\n                            {scanStatus === 'idle' && (\r\n                                <Button size=\"lg\" className=\"w-full max-w-xs text-lg\" onClick={startScan}>\r\n                                    <ScanLine className=\"w-5 h-5 mr-2\" /> Start Scan\r\n                                </Button>\r\n                            )}\r\n\r\n                            {scanStatus === 'scanning' && (\r\n                                <div className=\"w-full space-y-2\">\r\n                                    <div className=\"flex justify-between text-sm font-bold text-green-600\">\r\n                                        <span>Scanning in progress...</span>\r\n                                        <span>{scanProgress}%</span>\r\n                                    </div>\r\n                                    <div className=\"w-full h-3 bg-gray-200 rounded-full overflow-hidden\">\r\n                                        <div className=\"h-full bg-green-500 transition-all duration-100\" style={{ width: `${scanProgress}%` }} />\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            {scanStatus === 'success' && (\r\n                                <motion.div initial={{ opacity: 0, y: 10 }} animate={{ opacity: 1, y: 0 }} className=\"w-full space-y-4 text-left\">\r\n                                    <div className=\"p-4 bg-green-50 border border-green-200 rounded-xl flex items-start gap-3 text-green-800\">\r\n                                        <CheckCircle2 className=\"w-6 h-6 flex-shrink-0\" />\r\n                                        <div>\r\n                                            <p className=\"font-bold\">Scan Complete</p>\r\n                                            <p className=\"text-sm\">Document OCR successful.</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"bg-gray-800 text-green-400 p-4 rounded-xl font-mono text-sm leading-relaxed overflow-hidden\">\r\n                                        <p className=\"text-gray-500 text-xs mb-2\">--- EXTRACTED TEXT ---</p>\r\n                                        <p>NAME: RAMESH KUMAR</p>\r\n                                        <p>DOC ID: PAN-XXXX-8912</p>\r\n                                        <p>DOB: 12/05/1980</p>\r\n                                        <p>VALID UPTO: N/A</p>\r\n                                        <p className=\"text-gray-500 text-xs mt-2\">--- END OF OCR ---</p>\r\n                                    </div>\r\n                                    <Button className=\"w-full\" size=\"lg\" onClick={() => alert('Attached scanned file!')}>Attach Extracted File</Button>\r\n                                    <Button variant=\"outline\" className=\"w-full\" onClick={() => setScanStatus('idle')}>Scan Another</Button>\r\n                                </motion.div>\r\n                            )}\r\n                        </motion.div>\r\n                    )}\r\n\r\n                    {/* --- TAB 3: WEB TOKEN (PRE-UPLOADED) --- */}\r\n                    {activeTab === 'token' && (\r\n                        <motion.div key=\"token\" initial={{ opacity: 0, x: -20 }} animate={{ opacity: 1, x: 0 }} exit={{ opacity: 0, x: 20 }} className=\"max-w-md mx-auto w-full space-y-6\">\r\n\r\n                            <div className=\"text-center mb-8\">\r\n                                <div className=\"w-16 h-16 bg-purple-100 text-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4\">\r\n                                    <KeyRound className=\"w-8 h-8\" />\r\n                                </div>\r\n                                <h3 className=\"text-xl font-bold\">Import via Web Token</h3>\r\n                                <p className=\"text-sm text-gray-500 mt-2\">Already uploaded files from your phone at home? Enter the 6-character retrieval token below.</p>\r\n                            </div>\r\n\r\n                            {tokenStatus !== 'success' && (\r\n                                <div className=\"space-y-4\">\r\n                                    <div className=\"space-y-2\">\r\n                                        <label className=\"text-xs font-bold text-gray-400 uppercase tracking-widest text-center block\">6-Char Secure Token</label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            placeholder=\"XXXXXX\"\r\n                                            maxLength={6}\r\n                                            value={token}\r\n                                            onChange={(e) => setToken(e.target.value.toUpperCase().replace(/[^A-Z0-9]/g, ''))}\r\n                                            className=\"w-full text-4xl font-mono p-6 bg-gray-50 border-2 rounded-2xl outline-none focus:border-purple-500 text-center tracking-[0.5em] font-black\"\r\n                                        />\r\n                                    </div>\r\n\r\n                                    {tokenError && (\r\n                                        <p className=\"text-red-500 text-sm font-bold text-center flex items-center justify-center gap-1\">\r\n                                            <AlertTriangle className=\"w-4 h-4\" /> {tokenError}\r\n                                        </p>\r\n                                    )}\r\n\r\n                                    <Button\r\n                                        className=\"w-full text-lg bg-purple-600 hover:bg-purple-700 h-14\"\r\n                                        disabled={token.length !== 6 || tokenStatus === 'loading'}\r\n                                        onClick={handleTokenSubmit}\r\n                                    >\r\n                                        {tokenStatus === 'loading' ? <RefreshCcw className=\"w-5 h-5 animate-spin\" /> : 'Retrieve Document'}\r\n                                    </Button>\r\n\r\n                                    <div className=\"pt-6 border-t mt-6 flex gap-3 text-sm text-gray-500 items-start\">\r\n                                        <AlertTriangle className=\"w-4 h-4 flex-shrink-0 mt-0.5 text-yellow-500\" />\r\n                                        <p>Files expire automatically after 48 hours. They remain strictly encrypted until token redemption.</p>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            {tokenStatus === 'success' && tokenData && (\r\n                                <motion.div initial={{ opacity: 0, scale: 0.95 }} animate={{ opacity: 1, scale: 1 }} className=\"space-y-6\">\r\n                                    <div className=\"flex flex-col items-center justify-center p-6 bg-green-50 border border-green-200 rounded-2xl text-center space-y-2\">\r\n                                        <CheckCircle2 className=\"w-12 h-12 text-green-500 mb-2\" />\r\n                                        <h4 className=\"font-bold text-green-900 text-lg\">Token Verified</h4>\r\n                                        <p className=\"text-sm text-green-700\">{tokenData.message}</p>\r\n                                    </div>\r\n\r\n                                    <div className=\"border rounded-xl p-4 flex items-center gap-4 bg-gray-50\">\r\n                                        <div className=\"w-12 h-12 bg-white rounded shadow-sm flex items-center justify-center border\">\r\n                                            <FileText className=\"w-6 h-6 text-gray-400\" />\r\n                                        </div>\r\n                                        <div className=\"flex-1\">\r\n                                            <p className=\"font-bold text-sm tracking-wide\">{tokenData.fileName}</p>\r\n                                            <p className=\"text-xs text-gray-500\">{tokenData.mimeType} • {(tokenData.fileSize / 1024).toFixed(1)} KB</p>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <Button className=\"w-full h-14 text-lg bg-primary\" onClick={() => alert('Consent Verified. Document Attached!')}>\r\n                                        Confirm & Attach\r\n                                    </Button>\r\n                                    <Button variant=\"outline\" className=\"w-full\" onClick={() => { setTokenStatus('idle'); setToken(''); }}>\r\n                                        Enter Another Token\r\n                                    </Button>\r\n                                </motion.div>\r\n                            )}\r\n                        </motion.div>\r\n                    )}\r\n\r\n                </AnimatePresence>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\components\\kiosk\\FaceLock.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'handleLogoutSequence'. Either include it or remove the dependency array.","line":98,"column":8,"nodeType":"ArrayExpression","endLine":98,"endColumn":29,"suggestions":[{"desc":"Update the dependencies array to be: [handleLogoutSequence, isIdle, isLoggedOut]","fix":{"range":[3862,3883],"text":"[handleLogoutSequence, isIdle, isLoggedOut]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { useEffect, useState, useCallback, useRef } from \"react\";\r\nimport Webcam from \"react-webcam\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useKioskStore } from \"@/store/useKioskStore\";\r\nimport { Camera, ShieldAlert } from \"lucide-react\";\r\n\r\nconst INACTIVITY_THRESHOLD_MS = 10000; // 10 seconds of inactivity triggers the countdown\r\nconst COUNTDOWN_SECONDS = 10;\r\n\r\nexport function FaceLock() {\r\n    const router = useRouter();\r\n    const {\r\n        isAuthenticated,\r\n        logout\r\n    } = useKioskStore();\r\n\r\n    const [isIdle, setIsIdle] = useState(false);\r\n    const [countdown, setCountdown] = useState(COUNTDOWN_SECONDS);\r\n    const [isLoggedOut, setIsLoggedOut] = useState(false);\r\n\r\n    const activityTimerRef = useRef<NodeJS.Timeout | null>(null);\r\n    const countdownTimerRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n    // Reset the inactivity timer when the user interacts\r\n    const handleUserActivity = useCallback(() => {\r\n        if (isLoggedOut) return;\r\n\r\n        // updateLastActivity();  // <-- Removed. This updates Zustand store which triggers re-render, canceling the timer every frame!\r\n\r\n        if (activityTimerRef.current) clearTimeout(activityTimerRef.current);\r\n        if (countdownTimerRef.current) clearInterval(countdownTimerRef.current);\r\n\r\n        activityTimerRef.current = setTimeout(() => {\r\n            setIsIdle(true);\r\n        }, INACTIVITY_THRESHOLD_MS);\r\n\r\n    }, [isLoggedOut]); // Removed the other dependencies so the function reference is stable\r\n\r\n    const handleResume = () => {\r\n        console.log(\"Resuming session...\");\r\n        setIsIdle(false);\r\n        setCountdown(COUNTDOWN_SECONDS);\r\n\r\n        if (activityTimerRef.current) clearTimeout(activityTimerRef.current);\r\n        if (countdownTimerRef.current) clearInterval(countdownTimerRef.current);\r\n\r\n        activityTimerRef.current = setTimeout(() => {\r\n            setIsIdle(true);\r\n        }, INACTIVITY_THRESHOLD_MS);\r\n    }\r\n\r\n    // Set up event listeners for user activity\r\n    useEffect(() => {\r\n        if (!isAuthenticated || isLoggedOut || typeof window === 'undefined') return;\r\n\r\n        console.log(\"Setting up FaceLock listeners...\");\r\n\r\n        window.addEventListener(\"mousemove\", handleUserActivity);\r\n        window.addEventListener(\"touchstart\", handleUserActivity);\r\n        window.addEventListener(\"keypress\", handleUserActivity);\r\n        window.addEventListener(\"scroll\", handleUserActivity);\r\n\r\n        // Initialize the first timer\r\n        handleUserActivity();\r\n\r\n        return () => {\r\n            window.removeEventListener(\"mousemove\", handleUserActivity);\r\n            window.removeEventListener(\"touchstart\", handleUserActivity);\r\n            window.removeEventListener(\"keypress\", handleUserActivity);\r\n            window.removeEventListener(\"scroll\", handleUserActivity);\r\n            if (activityTimerRef.current) clearTimeout(activityTimerRef.current);\r\n            if (countdownTimerRef.current) clearInterval(countdownTimerRef.current);\r\n        };\r\n    }, [isAuthenticated, isLoggedOut, handleUserActivity]);\r\n\r\n    // Manage the countdown interval when idle\r\n    useEffect(() => {\r\n        if (isIdle && !isLoggedOut) {\r\n            countdownTimerRef.current = setInterval(() => {\r\n                setCountdown((prev) => {\r\n                    if (prev <= 1) {\r\n                        // Countdown finished\r\n                        clearInterval(countdownTimerRef.current!);\r\n                        handleLogoutSequence();\r\n                        return 0;\r\n                    }\r\n                    return prev - 1;\r\n                });\r\n            }, 1000);\r\n        }\r\n\r\n        return () => {\r\n            if (countdownTimerRef.current) clearInterval(countdownTimerRef.current);\r\n        };\r\n    }, [isIdle, isLoggedOut]);\r\n\r\n    const handleLogoutSequence = () => {\r\n        setIsLoggedOut(true);\r\n        logout();\r\n        console.log(\"Session cleared — no data retained\");\r\n\r\n        // After 2 seconds, redirect to the kiosk home\r\n        setTimeout(() => {\r\n            router.push(\"/kiosk\");\r\n        }, 2000);\r\n    };\r\n\r\n    // Only render anything if the user is authenticated in the kiosk session\r\n    if (!isAuthenticated) return null;\r\n\r\n    return (\r\n        <>\r\n            {/* Small Camera Indicator (Top Right) */}\r\n            <div className=\"fixed top-4 right-4 z-40 flex flex-col items-end gap-2\">\r\n                <div className=\"flex items-center gap-3 bg-black/60 backdrop-blur-md px-3 py-2 rounded-full border border-zinc-800 text-white shadow-lg\">\r\n                    <div className=\"relative w-10 h-10 overflow-hidden rounded-full border-2 border-emerald-500 bg-zinc-900 flex items-center justify-center shadow-[0_0_15px_rgba(16,185,129,0.5)]\">\r\n                        <Webcam\r\n                            audio={false}\r\n                            className=\"absolute w-full h-full object-cover\"\r\n                            mirrored={true}\r\n                            videoConstraints={{\r\n                                facingMode: \"user\"\r\n                            }}\r\n                        />\r\n                        {/* Pulsing overlay effect */}\r\n                        <motion.div\r\n                            className=\"absolute inset-0 bg-emerald-500/20\"\r\n                            animate={{ opacity: [0.1, 0.4, 0.1] }}\r\n                            transition={{ duration: 2, repeat: Infinity, ease: \"easeInOut\" }}\r\n                        />\r\n                    </div>\r\n                    <div className=\"flex flex-col pr-1\">\r\n                        <div className=\"flex items-center gap-1.5\">\r\n                            <span className=\"w-2 h-2 rounded-full bg-emerald-500 animate-pulse\" />\r\n                            <span className=\"text-xs font-semibold text-emerald-400\">Face Detected</span>\r\n                        </div>\r\n                        <span className=\"text-[10px] text-zinc-400 leading-tight\">Session Active</span>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Privacy Notice */}\r\n                <div className=\"bg-black/40 backdrop-blur-sm px-2 py-1 rounded text-[9px] text-zinc-400 flex items-center gap-1 border border-zinc-800/50\">\r\n                    <Camera size={10} />\r\n                    Camera detects presence only — no face data stored or recognised\r\n                </div>\r\n            </div>\r\n\r\n            {/* Full-Screen Logout Countdown Modal & Fade to Black */}\r\n            <AnimatePresence>\r\n                {(isIdle || isLoggedOut) && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        exit={{ opacity: 0 }}\r\n                        className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md\"\r\n                    >\r\n                        {isLoggedOut ? (\r\n                            // Session Ended Final State\r\n                            <motion.div\r\n                                initial={{ scale: 0.9, opacity: 0 }}\r\n                                animate={{ scale: 1, opacity: 1 }}\r\n                                className=\"text-center\"\r\n                            >\r\n                                <ShieldAlert className=\"w-24 h-24 text-red-500 mx-auto mb-6\" />\r\n                                <h2 className=\"text-4xl font-bold text-white mb-2\">Session Ended</h2>\r\n                                <p className=\"text-xl text-zinc-400\">All data cleared</p>\r\n                            </motion.div>\r\n                        ) : (\r\n                            // Countdown State\r\n                            <div className=\"text-center flex flex-col items-center\">\r\n                                <motion.h2\r\n                                    initial={{ y: -20, opacity: 0 }}\r\n                                    animate={{ y: 0, opacity: 1 }}\r\n                                    className=\"text-3xl font-light text-red-400 mb-8\"\r\n                                >\r\n                                    Step away detected — session ending in\r\n                                </motion.h2>\r\n\r\n                                {/* Dramatic Progress Ring using Framer Motion SVG */}\r\n                                <div className=\"relative w-64 h-64 mb-10 flex items-center justify-center\">\r\n                                    <svg className=\"absolute inset-0 w-full h-full -rotate-90\">\r\n                                        <circle\r\n                                            cx=\"128\"\r\n                                            cy=\"128\"\r\n                                            r=\"120\"\r\n                                            stroke=\"currentColor\"\r\n                                            strokeWidth=\"8\"\r\n                                            fill=\"transparent\"\r\n                                            className=\"text-zinc-800\"\r\n                                        />\r\n                                        <motion.circle\r\n                                            cx=\"128\"\r\n                                            cy=\"128\"\r\n                                            r=\"120\"\r\n                                            stroke=\"currentColor\"\r\n                                            strokeWidth=\"8\"\r\n                                            fill=\"transparent\"\r\n                                            className=\"text-red-500\"\r\n                                            strokeDasharray={2 * Math.PI * 120}\r\n                                            initial={{ strokeDashoffset: 0 }}\r\n                                            animate={{\r\n                                                strokeDashoffset: (2 * Math.PI * 120) * (1 - (countdown / COUNTDOWN_SECONDS))\r\n                                            }}\r\n                                            transition={{ duration: 1, ease: \"linear\" }}\r\n                                        />\r\n                                    </svg>\r\n\r\n                                    {/* Big Number */}\r\n                                    <motion.span\r\n                                        key={countdown}\r\n                                        initial={{ scale: 1.5, opacity: 0 }}\r\n                                        animate={{ scale: 1, opacity: 1 }}\r\n                                        className=\"text-8xl font-black text-white tabular-nums tracking-tighter\"\r\n                                    >\r\n                                        {countdown}\r\n                                    </motion.span>\r\n                                </div>\r\n\r\n                                <motion.button\r\n                                    whileHover={{ scale: 1.05 }}\r\n                                    whileTap={{ scale: 0.95 }}\r\n                                    onClick={handleResume}\r\n                                    className=\"bg-zinc-800 hover:bg-zinc-700 text-white border border-zinc-700 px-8 py-4 rounded-full text-xl font-medium transition-colors\"\r\n                                >\r\n                                    I&apos;m still here\r\n                                </motion.button>\r\n                            </div>\r\n                        )}\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\components\\kiosk\\KioskFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\components\\kiosk\\KioskHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\components\\payment\\Receipt.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\components\\providers\\I18nProvider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\components\\ui\\EmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\components\\ui\\ErrorBoundary.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Link' is defined but never used.","line":4,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":12,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Link"},"fix":{"range":[82,113],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { Component, ErrorInfo, ReactNode } from \"react\";\r\nimport Link from 'next/link';\r\nimport { AlertTriangle, RefreshCw } from 'lucide-react';\r\n\r\ninterface Props {\r\n    children?: ReactNode;\r\n}\r\n\r\ninterface State {\r\n    hasError: boolean;\r\n    error: Error | null;\r\n}\r\n\r\n/**\r\n * Universal Error Boundary trapping runtime React crashes.\r\n * Prevents the application from white-screening.\r\n */\r\nexport class ErrorBoundary extends Component<Props, State> {\r\n    public state: State = {\r\n        hasError: false,\r\n        error: null,\r\n    };\r\n\r\n    public static getDerivedStateFromError(error: Error): State {\r\n        // Update state so the next render will show the fallback UI.\r\n        return { hasError: true, error };\r\n    }\r\n\r\n    public componentDidCatch(error: Error, errorInfo: ErrorInfo) {\r\n        // Log explicit stack traces directly to console for hackathon debugging\r\n        console.error(\"SUVIDHA ErrorBoundary caught an error:\", error, errorInfo);\r\n    }\r\n\r\n    // Helper handling the forced refresh/redirect\r\n    private handleRestart = () => {\r\n        this.setState({ hasError: false, error: null });\r\n        // Attempting a soft navigation, but falling back to hard refresh to guarantee clean state\r\n        window.location.href = '/kiosk';\r\n    };\r\n\r\n    public render() {\r\n        if (this.state.hasError) {\r\n            return (\r\n                <div className=\"flex flex-col items-center justify-center min-h-[60vh] p-8 text-center bg-red-50/30 rounded-2xl m-8 border border-red-100 shadow-lg\">\r\n\r\n                    <div className=\"w-20 h-20 bg-red-100 text-red-600 rounded-full flex items-center justify-center mb-6 shadow-sm\">\r\n                        <AlertTriangle size={40} className=\"animate-pulse\" />\r\n                    </div>\r\n\r\n                    <h2 className=\"text-3xl font-black text-slate-900 mb-2\">\r\n                        System Error / सिस्टम त्रुटि\r\n                    </h2>\r\n\r\n                    <p className=\"text-lg text-slate-600 max-w-lg mx-auto mb-8 font-medium\">\r\n                        Something went wrong. Please try again or call our toll-free helpline.\r\n                        <br />\r\n                        <span className=\"text-sm mt-2 block text-slate-500\">\r\n                            कुछ गलत हो गया। कृपया पुनः प्रयास करें या हमारे टोल-फ्री हेल्पलाइन पर कॉल करें।\r\n                        </span>\r\n                    </p>\r\n\r\n                    <div className=\"bg-white p-4 rounded-xl shadow-sm border border-gray-200 mb-8 inline-block select-all\">\r\n                        <p className=\"font-mono text-sm text-red-600 font-bold\">Helpline: 1800-111-2026</p>\r\n                    </div>\r\n\r\n                    <button\r\n                        onClick={this.handleRestart}\r\n                        className=\"flex items-center justify-center gap-3 bg-blue-700 hover:bg-blue-800 text-white px-8 py-4 rounded-xl font-bold text-lg shadow-md transition-all active:scale-95\"\r\n                    >\r\n                        <RefreshCw size={24} />\r\n                        Restart Session / पुनः आरंभ करें\r\n                    </button>\r\n\r\n                    {/* Debug trace only visible to devs during presentation if needed */}\r\n                    {process.env.NODE_ENV !== 'production' && this.state.error && (\r\n                        <div className=\"mt-12 text-left bg-gray-900 text-gray-300 p-4 rounded-lg text-xs font-mono max-w-3xl w-full overflow-auto max-h-48 border border-gray-700 shadow-inner\">\r\n                            <p className=\"font-bold text-red-400 mb-2\">{this.state.error.toString()}</p>\r\n                            <pre>{this.state.error.stack}</pre>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return this.props.children;\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\components\\ui\\Skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\components\\ui\\Skeletons.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\components\\ui\\avatar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\components\\ui\\badge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\components\\ui\\button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\components\\ui\\card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\components\\ui\\dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\components\\ui\\input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\components\\ui\\progress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\components\\ui\\select.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\components\\ui\\separator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\components\\ui\\tabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\components\\ui\\toast.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\components\\ui\\toaster.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\hooks\\use-toast.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\lib\\ai.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\lib\\animations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\lib\\apiClient.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":64,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":64,"endColumn":23},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":77,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":77,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2661,2664],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2661,2664],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":103,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":103,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3609,3612],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3609,3612],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":106,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":106,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3764,3767],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3764,3767],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { suvidhaToast } from './toast';\r\n\r\ninterface FetchOptions extends RequestInit {\r\n    // Additional optional config can be defined here if necessary\r\n    skipAuth?: boolean;\r\n}\r\n\r\n/**\r\n * Universal API Client for SUVIDHA 2026.\r\n * Standardizes fetch requests, injects dynamic Authorization headers,\r\n * handles 401 Session interceptions and 429 Rate limiting visually.\r\n */\r\nexport async function apiClient<T>(\r\n    url: string,\r\n    options: FetchOptions = {}\r\n): Promise<T> {\r\n    const { skipAuth, ...fetchOptions } = options;\r\n\r\n    let headers: HeadersInit = {\r\n        'Content-Type': 'application/json',\r\n        ...(fetchOptions.headers || {}),\r\n    };\r\n\r\n    // 1. Inject Authentication globally unless bypassed\r\n    if (!skipAuth && typeof window !== 'undefined') {\r\n        const token = localStorage.getItem('suvidha_session_token');\r\n        if (token) {\r\n            headers = { ...headers, Authorization: `Bearer ${token}` };\r\n        }\r\n    }\r\n\r\n    const enhancedOptions: RequestInit = {\r\n        ...fetchOptions,\r\n        headers,\r\n    };\r\n\r\n    try {\r\n        const response = await fetch(url, enhancedOptions);\r\n\r\n        // 2. Global Error Trapping & Visual Interception\r\n\r\n        if (response.status === 401) {\r\n            // Unauthorized - Purge local session and redirect\r\n            if (typeof window !== 'undefined') {\r\n                localStorage.removeItem('suvidha_session_token');\r\n                localStorage.removeItem('suvidha_user_meta');\r\n                window.location.href = '/kiosk?session_expired=true';\r\n            }\r\n            throw new Error('Authentication expired. Redirecting...');\r\n        }\r\n\r\n        if (response.status === 429) {\r\n            // Too Many Requests\r\n            suvidhaToast.rateLimit();\r\n            throw new Error('Rate limit exceeded');\r\n        }\r\n\r\n        if (!response.ok) {\r\n            // Attempt to parse standard error structures returned by our API\r\n            let errorMsg = 'An unexpected server error occurred.';\r\n            try {\r\n                const errorData = await response.json();\r\n                errorMsg = errorData.error || errorData.message || errorMsg;\r\n            } catch (e) {\r\n                // Fallback to strict status parsing if no json payload was mounted\r\n                errorMsg = `Server responded with ${response.status} ${response.statusText}`;\r\n            }\r\n\r\n            console.warn(`[apiClient] Failed Request to ${url}:`, errorMsg);\r\n            throw new Error(errorMsg);\r\n        }\r\n\r\n        // 3. Successful resolution parsing\r\n        const data = await response.json();\r\n        return data as T;\r\n\r\n    } catch (error: any) {\r\n        console.error(`[apiClient] Exception bridging ${url}:`, error);\r\n\r\n        // --- DEMO FALLBACK LAYER ---\r\n        const isBrowser = typeof window !== 'undefined';\r\n        const isMockBypassEnabled = isBrowser && localStorage.getItem('suvidha_demo_bypass') !== 'false';\r\n\r\n        if (isMockBypassEnabled && fetchOptions.method === 'GET') {\r\n            console.warn(`[DEMO FALLBACK] Triggering synthetic payload for failed ${url}`);\r\n            suvidhaToast.success(`DEMO MODE: Simulated response constructed for ${url}`);\r\n\r\n            return {\r\n                _demoFallbackEnacted: true,\r\n                data: []\r\n            } as unknown as T;\r\n        }\r\n\r\n        throw error;\r\n    }\r\n}\r\n\r\n// Convenience Methods Exported referencing the main client\r\nexport const api = {\r\n    get: <T>(url: string, options?: FetchOptions) =>\r\n        apiClient<T>(url, { ...options, method: 'GET' }),\r\n\r\n    post: <T>(url: string, body: any, options?: FetchOptions) =>\r\n        apiClient<T>(url, { ...options, method: 'POST', body: JSON.stringify(body) }),\r\n\r\n    put: <T>(url: string, body: any, options?: FetchOptions) =>\r\n        apiClient<T>(url, { ...options, method: 'PUT', body: JSON.stringify(body) }),\r\n\r\n    delete: <T>(url: string, options?: FetchOptions) =>\r\n        apiClient<T>(url, { ...options, method: 'DELETE' }),\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\lib\\auth.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unsafe-function-type","severity":2,"message":"The `Function` type accepts any function-like value.\nPrefer explicitly defining any function parameters and return type.","line":39,"column":35,"nodeType":"Identifier","messageId":"bannedFunctionType","endLine":39,"endColumn":43,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\lib\\i18n.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\lib\\messaging.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_template' is defined but never used.","line":2,"column":58,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":67,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_variables' is defined but never used.","line":2,"column":77,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":87,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_text' is defined but never used.","line":9,"column":57,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":62,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\lib\\payment.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_signature' is defined but never used.","line":11,"column":37,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":47,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_orderId' is defined but never used.","line":11,"column":57,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":65,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_paymentId' is defined but never used.","line":11,"column":75,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":85,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\lib\\prisma.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\lib\\queue.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\lib\\store.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\lib\\toast.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\lib\\webSpeech.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\middleware.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\OneDrive\\Desktop\\suvidhaah\\src\\store\\useKioskStore.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]